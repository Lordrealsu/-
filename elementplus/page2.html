<!--
 * @Author: ChenDong 1516216399@qq.com
 * @Date: 2024-07-03 15:09:08
 * @LastEditors: ChenDong 1516216399@qq.com
 * @LastEditTime: 2024-07-04 14:23:03
 * @FilePath: \武汉实习\elementplus\index.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 导入Elementplus Css样式 -->
    <link rel="stylesheet" href="css/element-plus.css">
    <style>
         .el-aside {
            height: 90vh;
        } 
        .el-col-12{
            max-width: 100%;
            flex:1 0 50%;
        }

    </style>
</head>
<div id="app">
    <div class="main">
        <!-- 面包屑 breadcrumb -->
=       <div>
                            <el-breadcrumb separator="/">
                                <el-breadcrumb-item :to="{ path: '/' }">homepage</el-breadcrumb-item>
                                <el-breadcrumb-item><a href="/">promotion management</a></el-breadcrumb-item>
                                <el-breadcrumb-item>promotion list</el-breadcrumb-item>
                                <el-breadcrumb-item>promotion detail</el-breadcrumb-item>
                              </el-breadcrumb>
        </div>
        <div style="margin-top: 20px;">
            <el-row>
                <el-col :span="10" >
                    <el-card>
                        <div id="chart1" style="width: 480px; height: 300px;">

                        </div>
                    </el-card>

                </el-col>
                <el-col :span="14" >
                    <el-card>
                        <div id="chart2" style="width: 560px; height: 300px;">

                        </div>
                    </el-card>
                </el-col>
            </el-row>
            
            

        </div>
        <div class="tit"><h3>热度统计</h3></div>
        <div id="global_hn_statistic" class="tab">
            <table style="border-collapse: collapse; width: 100%;">
                <thead>
                <tr style="background-color: #f2f2f2;">
                    <th style="padding: 8px; text-align: left;">热度段</th>
                    <th style="padding: 8px; text-align: left;">主播数量</th>
                    <th style="padding: 8px; text-align: left;">主播占比</th>
                    <th style="padding: 8px; text-align: left;">总热度</th>
                    <th style="padding: 8px; text-align: left;">总热度占比</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="padding: 8px; text-align: left;">100w以上</td>
                    <td style="padding: 8px; text-align: left;">52</td>
                    <td style="padding: 8px; text-align: left;">0.14%</td>
                    <td style="padding: 8px; text-align: left;">95,003,720</td>
                    <td style="padding: 8px; text-align: left;">5.95%</td>
                </tr>
                <tr>
                    <td style="padding: 8px; text-align: left;">100w~50w</td>
                    <td style="padding: 8px; text-align: left;">163</td>
                    <td style="padding: 8px; text-align: left;">0.43%</td>
                    <td style="padding: 8px; text-align: left;">105,098,937</td>
                    <td style="padding: 8px; text-align: left;">6.58%</td>
                </tr>
                <tr>
                    <td style="padding: 8px; text-align: left;">50w~10w</td>
                    <td style="padding: 8px; text-align: left;">2,516</td>
                    <td style="padding: 8px; text-align: left;">6.59%</td>
                    <td style="padding: 8px; text-align: left;">497,715,936</td>
                    <td style="padding: 8px; text-align: left;">31.15%</td>
                </tr>
                <tr>
                    <td style="padding: 8px; text-align: left;">10w~1w</td>
                    <td style="padding: 8px; text-align: left;">23,630</td>
                    <td style="padding: 8px; text-align: left;">61.9%</td>
                    <td style="padding: 8px; text-align: left;">896,583,616</td>
                    <td style="padding: 8px; text-align: left;">56.11%</td>
                </tr>
                <tr>
                    <td style="padding: 8px; text-align: left;">1w~5k</td>
                    <td style="padding: 8px; text-align: left;">401</td>
                    <td style="padding: 8px; text-align: left;">1.05%</td>
                    <td style="padding: 8px; text-align: left;">3,330,378</td>
                    <td style="padding: 8px; text-align: left;">0.21%</td>
                </tr>
                <tr>
                    <td style="padding: 8px; text-align: left;">5k~1k</td>
                    <td style="padding: 8px; text-align: left;">10</td>
                    <td style="padding: 8px; text-align: left;">0.03%</td>
                    <td style="padding: 8px; text-align: left;">37,983</td>
                    <td style="padding: 8px; text-align: left;">0.0%</td>
                </tr>
                <tr>
                    <td style="padding: 8px; text-align: left;">1k~100</td>
                    <td style="padding: 8px; text-align: left;">0</td>
                    <td style="padding: 8px; text-align: left;">0%</td>
                    <td style="padding: 8px; text-align: left;">0</td>
                    <td style="padding: 8px; text-align: left;">0%</td>
                </tr>
                <tr>
                    <td style="padding: 8px; text-align: left;">100~0</td>
                    <td style="padding: 8px; text-align: left;">11,402</td>
                    <td style="padding: 8px; text-align: left;">29.87%</td>
                    <td style="padding: 8px; text-align: left;">4,111</td>
                    <td style="padding: 8px; text-align: left;">0.0%</td>
                </tr>
                </tbody>
            </table>
        </div>

        <!--表格 table-->
        <!-- <div style="margin-top: 20px;">
            <el-table :data="tableData" style="width: 100%">
            // 这里的el-table组件标签必须要有明确的结束标签，否则就是做出一个单列的效果 
            <el-table-column prop="date" label="日期" width="180" ></el-table-column>
            <el-table-column prop="name" label="姓名" width="180" ></el-table-column>
            <el-table-column prop="address" label="地址" ></el-table-column>
            <el-table-column label="操作">
                <template #default="scope">
                <el-button size="small" @click="handleEdit(scope.$index, scope.row)"
                    >编辑</el-button
                >
                <el-button
                    size="small"
                    type="danger"
                    @click="handleDelete(scope.$index, scope.row)"
                    >删除</el-button
                >
                </template>
            </el-table-column>
            </el-table>
        </div>  -->
    </div>
        <!--对话框-->
        <el-dialog v-model="dialogFormVisible" title="Shipping address">
            <el-form :model="form">
                <el-form-item label="姓名" :label-width="formLabelWidth">
                    <el-input v-model="form.name" autocomplete="off" />
                </el-form-item>
                <!--v-model 是绑定下面定义的响应式变量，双向数据绑定-->
                <el-form-item label="日期" :label-width="formLabelWidth">
                  <el-input v-model="form.date" autocomplete="off" />
                </el-form-item>
            </el-form>

            <template #footer>
            <span class="dialog-footer">
                <el-button @click="dialogFormVisible = false">Cancel</el-button>
                <el-button type="primary" @click="dialogFormVisible = false">
                Confirm</el-button>

            </span>
            </template>
        </el-dialog>
      </div>  
</div>

<body>
    <!-- 导入vue框架 -->
    <script src="js/v3.2.8/vue.global.prod.js"></script>
    <!-- 导入ElementPlus框架 -->
    <script src="js/element-plus.js"></script>
    <!-- 导入Elementplus Icon  -->
    <script src="js/element-icons.js"></script>
    <!--导入 Echarts-->
    <script src="js/echarts.min.js"></script>
    <script>
        //等待DOM加载完成
        document.addEventListener("DOMContentLoaded",function()
        {
            //初始化一个图标
            //document.getElementById("chart1")
            const chart1Dom = document.querySelector("#chart1") 
            //异步请求图表数据
            // fetch("url")
            // .then(response=>{
            //     if(!response.ok){
            //         throw new Error("网络异常")
            //     }
            //     return response.json()
            // })
            // .then(data=>{

            // })
            // .catch(error=>{
            //     console.log(error)
            // })
            fetch("data/data.json")
            //检查响应是否成功
            .then(response=>response.json())
            .then(data =>{//解析数据
                const chart10ption = {
                    title: {
                    text: 'ECharts 入门示例'
                    },
                    tooltip: {}, 
                    xAxis: {
                        data: data.xAxisData
                    },
                    yAxis: {},
                    series: [
                    {
                        name: '销量',
                        type: 'bar',
                        data: data.seriesData
                    }
                ]
                
                }
                    initEcharts(chart1Dom,chart10ption);
            })
            .catch(error=>
            {
                console.log(error)
             })
            //指定图标配置
            // var chart10ption = {

            //         title: {
            //         text: 'ECharts 入门示例'
            //         },
            //         tooltip: {},
            //         legend: {
            //         data: ['销量']
            //         },
            //         xAxis: {
            //         data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']
            //         },
            //         yAxis: {},
            //         series: [
            //         {
            //             name: '销量',
            //             type: 'bar',
            //             data: [5, 20, 36, 10, 10, 20]
            //         }
            //         ]
                
            //     };
                
                const chart2Dom = document.querySelector("#chart2")
                const chart2Option = 
                {
                    title: {
                        text: '活跃观众总数'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data: ['活跃观众数', '付费礼物', '弹幕数' ]
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                        saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['06.10', '06.12', '06.14', '06.16', '06.20', '06.22', '06.24','06.26','06.28','06.30','07.02','07.04','07.06','07.08']
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                        name: '活跃观众数',
                        type: 'line',
                        stack: 'Total',
                        data: [1258732, 1371361, 1313997, 1535368, 1261886, 1315367, 1242396, 1261995, 1282576, 1307591, 1099762, 1231308, 1361625, 1304968]
                        },
                        {
                        name: '付费礼物',
                        type: 'line',
                        stack: 'Total',
                        data: [11347546, 12271775,13452756, 12345678,18794256, 12456782, 15879125, 14567258, 14897526, 14587526, 14587951, 15789215,20154871,12054892]
                        },
                        {
                        name: '弹幕数',
                        type: 'line',
                        stack: 'Total',
                        data: [17894542,15482148,18754214, 15487951, 14862148, 20125784, 23658741, 10264785, 23014875, 12035784, 20364584, 32015487, 15268741, 14025874]
                        },
                        
                    ]
                }; 
                
                initEcharts(chart2Dom,chart2Option);

        })
        function initEcharts(dom, option)
        {
            //初始化实例
            const domEcharts = echarts.init(dom);
            //设置echarts 实例
            domEcharts.setOption(option);

        }
    // createApp()接受一个{}参数，用来创建一个vue应用
    // reactive 专门用于创建对象{}、数组[]类型的响应式数据
    // ref 用来创建Number bool string,基础数据类型
        const {
            createApp,
            reactive,
            ref
        } = Vue;
        // const msg1 = "字符串类型";
        // const msg = ref("字符串类型")
        const tableData = reactive([
        {
                    date: '2016-05-03',
                    name: '张三',
                    address: 'No. 189, Grove St, Los Angeles',
                },
                {
                    date: '2016-05-02',
                    name: '李四',
                    address: 'No. 189, Grove St, Los Angeles',
                },
                {
                    date: '2016-05-04',
                    name: '王五',
                    address: 'No. 189, Grove St, Los Angeles',
                },
                {
                    date: '2016-05-01',
                    name: '赵四',
                    address: 'No. 189, Grove St, Los Angeles',
                },
            ]);
            //对话框
            const dialogFormVisible = ref(false)
            const formLabelWidth = '140px'
            //对话框的表单
                    const form = reactive({
                            name: '',
                            date: ''
                    })
                const app = createApp({
                    setup() {
                            const handleEdit = (index, row) => {
                                //显示对话框
                                dialogFormVisible.value=true
                                form.name = row.name
                                form.date = row.date
                                console.log(index, row)
                            }
                            const handleDelete = (index, row) => {
                            console.log(index, row)
                            }
                    
                // 返回模板中需要的响应式引用  
                return {
                    //msg
                    tableData,
                    handleEdit,
                    handleDelete,
                    dialogFormVisible,
                    form
                };
            }

        });
        // 应用使用element plus 组件
        app.use(ElementPlus);
        // "location" 参数对应<location>
        app.component("location" , ElementPlusIconsVue.Location)
        app.component("document" , ElementPlusIconsVue.Document)
        app.component("icon-menu" , ElementPlusIconsVue.Menu)
        app.component("setting" , ElementPlusIconsVue.Setting)

        //将应用挂载到 #app
        app.mount('#app');
    </script>

</body>

</html>